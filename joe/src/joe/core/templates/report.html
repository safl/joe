<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CIJOE: Workflow Report</title>
  <!-- TODO: once done, then inline this such that it works "offline" -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>

  <h1>Report</h1>

  <p>This is a HTML-ification of Workflow state (<a href="workflow.state">workflow.state</a>) and
  the associated files in the workflow <a href="./">output</a> directory.</p>

  <ul class="nav nav-tabs" id="tab-content" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="status-tab" data-bs-toggle="tab"
        data-bs-target="#status-tab-pane" type="button" role="tab" aria-controls="status-tab-pane"
        aria-selected="true">Status</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="steps-tab" data-bs-toggle="tab"
        data-bs-target="#steps-tab-pane" type="button" role="tab" aria-controls="steps-tab-pane"
        aria-selected="false">Steps</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="config-tab" data-bs-toggle="tab"
        data-bs-target="#config-tab-pane" type="button" role="tab" aria-controls="config-tab-pane"
        aria-selected="false">Configuration</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="doc-tab" data-bs-toggle="tab"
        data-bs-target="#doc-tab-pane" type="button" role="tab" aria-controls="doc-tab-pane"
        aria-selected="false">Documentation</button>
    </li>
  </ul>

  <div class="tab-content" id="tab-content">
    <div class="tab-pane show active" id="status-tab-pane" role="tabpanel" aria-labelledby="status-tab" tabindex="0">
      <h2>Status</h2>

      <table class="table">
        <thead>
          <tr>
            <th>Workflow Status</th>
            <th>Count</th>
          </tr>
        </thead>
        <tbody>
          <tr class="table-success">
            <td>Success</td>
            <td>{{ status.success }}</td>
          </tr>
          <tr class="table-danger">
            <td>Failure</td>
            <td>{{ status.failure }}</td>
          </tr>
          <tr class="table-secondary">
            <td>Elapsed</td>
            <td>{{ status.elapsed }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="tab-pane" id="steps-tab-pane" role="tabpanel" aria-labelledby="steps-tab" tabindex="0">
      <h2>Steps</h2>
      <ul>
      {% for step in steps %}
      <li>{{ step['name'] }}</li>
      {% endfor %}
      </ul>
    </div>

    <div class="tab-pane" id="config-tab-pane" role="tabpanel" aria-labelledby="config-tab" tabindex="0">
      {{ config }}
    </div>

    <div class="tab-pane" id="doc-tab-pane" role="tabpanel" aria-labelledby="doc-tab" tabindex="0">
      <pre>{{ doc }}</pre>
    </div>
  </div>

  <!-- TODO: once done, then inline this such that it works "offline" -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</body>
</html>
